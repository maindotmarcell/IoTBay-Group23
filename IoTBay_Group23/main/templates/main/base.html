{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
		/>
		<!-- CSS only -->
		<title>IoT Bay</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
			crossorigin="anonymous"
		/>
		<script
			defer
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
			integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
			crossorigin="anonymous"
		></script>
		<script
			defer
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
			integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
			crossorigin="anonymous"
		></script>
		<script
			defer
			type="text/javascript"
			src="{% static 'js/cart.js' %}"
		></script>
		<script type="text/javascript">
			let user = '{{user}}';

			function getToken(name) {
				var cookieValue = null;
				if (document.cookie && document.cookie !== '') {
					var cookies = document.cookie.split(';');
					for (var i = 0; i < cookies.length; i++) {
						var cookie = cookies[i].trim();
						// Does this cookie string begin with the name we want?
						if (cookie.substring(0, name.length + 1) === name + '=') {
							cookieValue = decodeURIComponent(
								cookie.substring(name.length + 1)
							);
							break;
						}
					}
				}
				return cookieValue;
			}
			var csrftoken = getToken('csrftoken');
		</script>

		<style type="text/css">
			.sidenav {
				height: 100%;
				width:160px;
				position: fixed;
				z-index: 1;
				top: 0;
				left: 0;
				background-color:#111;
				overflow-x: hidden;
				padding-top: 20px;
			}

			.sidenav a {
				padding:6px 8px 6px 16px;
				text-decoration:none;
				font-size: 25px; 
				color: #818181;
				display:block;
			}

			.sidenav a:hover {
				color:#f1f1f1;
			}
			.main {
				margin-left: 160px;
				padding: 0px 10px;
			}
		</style>
	</head>
	<body>
		<div class="sidenav">
		{% if user.is_authenticated %}
			<a href="/welcome">Welcome</a>
			<a href="/main">Main</a>
			<a href="/cart">Cart</a>
			<a class = 'btn-danger' style = "margin-top: 30px;color:black" href = "/logout">Logout</a>
		{% endif %}
		</div>
		<div id="content" , name="content" , class="main">
			<div class="row justify-content-center">
				<div class="col-8">
					<h1 class="mt-2">IoT Bay</h1>
					<hr class="mt-0 mb-4" />
					{% block content %} {% endblock %}
				</div>
			</div>
		</div>
	</body>
</html>
